---
title: 게임 아이템 수량 출력하기
date: 2024-01-22 18:00:00 +09:00
categories: [game]
tags: [game, ui]
---

# 설명

- 게임 아이템 수량을 표시할 때, 한정된 가로 길이에서 수량 정보를 표시해주어야 하는 경우가 있습니다.

# 요구사항

- 10만 이하면 그대로 표시
- 10만이상 부터 "만" 붙이기
- 10만 단위로 떨어질 때 소수점 출력 안함.
- 최대 천만이상 표시 '1234만' 표시
- 십만이상 '12.34만' 표시
- 백만이상 '123.4만' 표시
- 1억이상 부터 "억" 붙이기
- 1억 단위로 떨어질 때 소수점 출력 안함.
- 최대 천억이상 표시 '1234억' 표시
- 일억이상 '1.234억'
- 십억이상 '12.34억'
- 백억이상 '123.4억'

# 예시

- 99999 -> 99999
- 100000 -> 10만
- 1234567 -> 123.4만
- 12345678 = 1234만
- 100000000 = 1억
- 123456789 = 1.234억
- 1234567899 = 12.34억
- 12345678999 = 123.4억
- 123456789999 = 1234억

# 구현

```js
// 소수점 limit 자리까지 표시
function limitDecimal(value, limit) {
  const data = String(value).split(".");
  const decimalPart = data[1];

  if (decimalPart === undefined) {
    return data[0];
  }

  if (limit === 0) {
    return data[0];
  }

  return data[0] + "." + (decimalPart + "0".repeat(limit)).slice(0, limit);
}
```

```js
// 수량에 따른 표시 구현하기
function changeQuantity(input) {
  if (input < 100000) {
    return String(input);
  }

  const length = String(input).length;

  if (input > 99999999) {
    let min = 0;
    if (length === 9) min = 3;
    if (length === 10) min = 2;
    if (length === 11) min = 1;
    if (length >= 12) min = 0;

    return limitDecimal(input / 100000000, min) + "억";
  }

  if (input > 99999) {
    let min = 0;
    if (length === 6) min = 2;
    if (length === 7) min = 1;
    if (length >= 8) min = 0;

    return limitDecimal(input / 10000, min) + "만";
  }

  return -1;
}
```

```js
console.log(changeQuantity(99999)); // 99999
console.log(changeQuantity(100000)); // 10만
console.log(changeQuantity(1234567)); // 123.4만
console.log(changeQuantity(12345678)); // 1234만
console.log(changeQuantity(100000000)); // 1억
console.log(changeQuantity(123456789)); // 1.234억
console.log(changeQuantity(1234567899)); // 12.34억
console.log(changeQuantity(12345678999)); // 123.4억
console.log(changeQuantity(123456789999)); // 1234억
```
